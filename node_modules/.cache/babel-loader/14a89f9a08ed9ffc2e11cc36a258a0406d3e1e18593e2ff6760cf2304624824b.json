{"ast":null,"code":"// prettier-ignore\nvar makeFontFlags = function (options) {\n  var flags = 0;\n  var flipBit = function (bit) {\n    flags |= 1 << bit - 1;\n  };\n  if (options.fixedPitch) flipBit(1);\n  if (options.serif) flipBit(2);\n  if (options.symbolic) flipBit(3);\n  if (options.script) flipBit(4);\n  if (options.nonsymbolic) flipBit(6);\n  if (options.italic) flipBit(7);\n  if (options.allCap) flipBit(17);\n  if (options.smallCap) flipBit(18);\n  if (options.forceBold) flipBit(19);\n  return flags;\n};\n// From: https://github.com/foliojs/pdfkit/blob/83f5f7243172a017adcf6a7faa5547c55982c57b/lib/font/embedded.js#L123-L129\nexport var deriveFontFlags = function (font) {\n  var familyClass = font['OS/2'] ? font['OS/2'].sFamilyClass : 0;\n  var flags = makeFontFlags({\n    fixedPitch: font.post.isFixedPitch,\n    serif: 1 <= familyClass && familyClass <= 7,\n    symbolic: true,\n    script: familyClass === 10,\n    italic: font.head.macStyle.italic\n  });\n  return flags;\n};","map":{"version":3,"names":["makeFontFlags","options","flags","flipBit","bit","fixedPitch","serif","symbolic","script","nonsymbolic","italic","allCap","smallCap","forceBold","deriveFontFlags","font","familyClass","sFamilyClass","post","isFixedPitch","head","macStyle"],"sources":["C:\\Users\\TongNPZ\\Desktop\\my-app-2.0 - Copy (2)\\node_modules\\pdf-lib\\src\\core\\embedders\\FontFlags.ts"],"sourcesContent":["import { Font } from 'src/types/fontkit';\r\n\r\nexport interface FontFlagOptions {\r\n  fixedPitch?: boolean;\r\n  serif?: boolean;\r\n  symbolic?: boolean;\r\n  script?: boolean;\r\n  nonsymbolic?: boolean;\r\n  italic?: boolean;\r\n  allCap?: boolean;\r\n  smallCap?: boolean;\r\n  forceBold?: boolean;\r\n}\r\n\r\n// prettier-ignore\r\nconst makeFontFlags = (options: FontFlagOptions) => {\r\n  let flags = 0;\r\n\r\n  const flipBit = (bit: number) => { flags |= (1 << (bit - 1)); };\r\n\r\n  if (options.fixedPitch)  flipBit(1);\r\n  if (options.serif)       flipBit(2);\r\n  if (options.symbolic)    flipBit(3);\r\n  if (options.script)      flipBit(4);\r\n  if (options.nonsymbolic) flipBit(6);\r\n  if (options.italic)      flipBit(7);\r\n  if (options.allCap)      flipBit(17);\r\n  if (options.smallCap)    flipBit(18);\r\n  if (options.forceBold)   flipBit(19);\r\n\r\n  return flags;\r\n};\r\n\r\n// From: https://github.com/foliojs/pdfkit/blob/83f5f7243172a017adcf6a7faa5547c55982c57b/lib/font/embedded.js#L123-L129\r\nexport const deriveFontFlags = (font: Font): number => {\r\n  const familyClass = font['OS/2'] ? font['OS/2'].sFamilyClass : 0;\r\n  const flags = makeFontFlags({\r\n    fixedPitch: font.post.isFixedPitch,\r\n    serif: 1 <= familyClass && familyClass <= 7,\r\n    symbolic: true, // Assume the font uses non-latin characters\r\n    script: familyClass === 10,\r\n    italic: font.head.macStyle.italic,\r\n  });\r\n  return flags;\r\n};\r\n"],"mappings":"AAcA;AACA,IAAMA,aAAa,GAAG,SAAAA,CAACC,OAAwB;EAC7C,IAAIC,KAAK,GAAG,CAAC;EAEb,IAAMC,OAAO,GAAG,SAAAA,CAACC,GAAW;IAAOF,KAAK,IAAK,CAAC,IAAKE,GAAG,GAAG,CAAG;EAAE,CAAC;EAE/D,IAAIH,OAAO,CAACI,UAAU,EAAGF,OAAO,CAAC,CAAC,CAAC;EACnC,IAAIF,OAAO,CAACK,KAAK,EAAQH,OAAO,CAAC,CAAC,CAAC;EACnC,IAAIF,OAAO,CAACM,QAAQ,EAAKJ,OAAO,CAAC,CAAC,CAAC;EACnC,IAAIF,OAAO,CAACO,MAAM,EAAOL,OAAO,CAAC,CAAC,CAAC;EACnC,IAAIF,OAAO,CAACQ,WAAW,EAAEN,OAAO,CAAC,CAAC,CAAC;EACnC,IAAIF,OAAO,CAACS,MAAM,EAAOP,OAAO,CAAC,CAAC,CAAC;EACnC,IAAIF,OAAO,CAACU,MAAM,EAAOR,OAAO,CAAC,EAAE,CAAC;EACpC,IAAIF,OAAO,CAACW,QAAQ,EAAKT,OAAO,CAAC,EAAE,CAAC;EACpC,IAAIF,OAAO,CAACY,SAAS,EAAIV,OAAO,CAAC,EAAE,CAAC;EAEpC,OAAOD,KAAK;AACd,CAAC;AAED;AACA,OAAO,IAAMY,eAAe,GAAG,SAAAA,CAACC,IAAU;EACxC,IAAMC,WAAW,GAAGD,IAAI,CAAC,MAAM,CAAC,GAAGA,IAAI,CAAC,MAAM,CAAC,CAACE,YAAY,GAAG,CAAC;EAChE,IAAMf,KAAK,GAAGF,aAAa,CAAC;IAC1BK,UAAU,EAAEU,IAAI,CAACG,IAAI,CAACC,YAAY;IAClCb,KAAK,EAAE,CAAC,IAAIU,WAAW,IAAIA,WAAW,IAAI,CAAC;IAC3CT,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAEQ,WAAW,KAAK,EAAE;IAC1BN,MAAM,EAAEK,IAAI,CAACK,IAAI,CAACC,QAAQ,CAACX;GAC5B,CAAC;EACF,OAAOR,KAAK;AACd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}