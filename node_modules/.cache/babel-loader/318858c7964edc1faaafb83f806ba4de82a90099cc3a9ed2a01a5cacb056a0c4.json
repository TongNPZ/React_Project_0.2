{"ast":null,"code":"import axios from 'axios';\nconst loginUser = async (username, password) => {\n  const token = localStorage.getItem('token');\n  const config = {\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Content-Type': 'application/json'\n    }\n  };\n  try {\n    const response = await axios.post(\"http://26.90.237.200:3000/login\", {\n      username,\n      password\n    });\n    const token = response.data.token;\n    localStorage.setItem('token', token);\n    // console.log(response.data);\n\n    const authResponse = await axios.post('http://26.90.237.200:3000/authen', {\n      username,\n      password\n    }, config);\n    // console.log(authResponse.data);\n    if (authResponse.data.decoded.statusAuthen === 1) {\n      alert('Authen success');\n      return authResponse.data.decoded.statusAuthen;\n    } else {\n      alert('Authen failed');\n      return 0;\n    }\n  } catch (error) {\n    alert('Authen error');\n    console.error(error);\n    return 0;\n  }\n};\nexport default loginUser;","map":{"version":3,"names":["axios","loginUser","username","password","token","localStorage","getItem","config","headers","response","post","data","setItem","authResponse","decoded","statusAuthen","alert","error","console"],"sources":["C:/Users/TongNPZ/Desktop/my-app/src/components/Login/Login.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst loginUser = async (username, password) => {\r\n  const token = localStorage.getItem('token');\r\n  const config = {\r\n    headers: {\r\n      'Authorization': `Bearer ${token}`,\r\n      'Content-Type': 'application/json'\r\n    }\r\n  };\r\n  try {\r\n    const response = await axios.post(\"http://26.90.237.200:3000/login\", { username, password });\r\n    const token = response.data.token;\r\n    localStorage.setItem('token', token);\r\n    // console.log(response.data);\r\n\r\n    const authResponse = await axios.post('http://26.90.237.200:3000/authen', { username, password },config);\r\n    // console.log(authResponse.data);\r\n    if (authResponse.data.decoded.statusAuthen === 1) {\r\n      alert('Authen success');\r\n      return authResponse.data.decoded.statusAuthen;\r\n    } else {\r\n      alert('Authen failed');\r\n      return 0;\r\n    }\r\n  } catch (error) {\r\n    alert('Authen error');\r\n    console.error(error);\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport default loginUser;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC9C,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE;MACP,eAAe,EAAG,UAASJ,KAAM,EAAC;MAClC,cAAc,EAAE;IAClB;EACF,CAAC;EACD,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,iCAAiC,EAAE;MAAER,QAAQ;MAAEC;IAAS,CAAC,CAAC;IAC5F,MAAMC,KAAK,GAAGK,QAAQ,CAACE,IAAI,CAACP,KAAK;IACjCC,YAAY,CAACO,OAAO,CAAC,OAAO,EAAER,KAAK,CAAC;IACpC;;IAEA,MAAMS,YAAY,GAAG,MAAMb,KAAK,CAACU,IAAI,CAAC,kCAAkC,EAAE;MAAER,QAAQ;MAAEC;IAAS,CAAC,EAACI,MAAM,CAAC;IACxG;IACA,IAAIM,YAAY,CAACF,IAAI,CAACG,OAAO,CAACC,YAAY,KAAK,CAAC,EAAE;MAChDC,KAAK,CAAC,gBAAgB,CAAC;MACvB,OAAOH,YAAY,CAACF,IAAI,CAACG,OAAO,CAACC,YAAY;IAC/C,CAAC,MAAM;MACLC,KAAK,CAAC,eAAe,CAAC;MACtB,OAAO,CAAC;IACV;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdD,KAAK,CAAC,cAAc,CAAC;IACrBE,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACpB,OAAO,CAAC;EACV;AACF,CAAC;AAED,eAAehB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}